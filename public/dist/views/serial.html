<div class="row" ng-if="frames"><div class="col-md-12"><h4>Virtual SAM Request</h4>Thermostat Register<input type="text" ng-model="samreqReg" name="data" placeholder="000104"><button ng-click="samreq(samreqReg)">send request</button><hr></div></div><div class="row"><div class="col-md-12"><h3>Stream</h3><table class="table table-bordered table-hover" style="table-layout: fixed"><thead><tr class="active"><th>src<input type="text" ng-model="srcFilter"><th>dst<input type="text" ng-model="dstFilter"><th>cmd<input type="text" ng-model="cmdFilter"><th>reg<input type="text" ng-model="regFilter"><tbody><tr ng-repeat="frame in frames | filter: { src:srcFilter, dst:dstFilter, cmd: cmdFilter, reg_string:regFilter }" ng-class="{'reply':'success', 'write':'warning', 'exception':'danger'}[frame.cmd]"><td>{{ frame.src }}<td>{{ frame.dst }}<td>{{ frame.cmd }}<td style="white-space: nowrap">{{ frame.payload_raw | limitTo:3 | toHex }}<!-- <td>{{ (frame.payload_raw | strings) || (frame.payload_raw | toHex) }}</td> --></table></div></div><div class="row"><div class="col-md-12"><h3>State</h3><style>.diff { background-color: #AFA; }</style><table class="table table-bordered table-hover table-striped"><thead><tr><th>Updated<th>Src<th>Register<th>Value<tbody><tr ng-repeat="frame in state | toList | orderBy: ['-Device','cmd','reg_string']" ng-class="{'read':'success', 'write':'danger', 'reply':'warning'}[frame.cmd]"><td>{{ frame.timestamp*1000 | timeAgo }}<td>{{ frame.Device }}<td style="white-space: pre-line">{{ frame.payload_raw | limitTo:3 | toHex }}<p class="text-primary" ng-if="frame.field.name">{{ frame.field.name }}</p><td style="font-family: monospace"><strong ng-bind-html="frame.payload_raw | subStr:3 | toHex | markDiff:(frame.history[0]|subStr:3|toHex)"></strong><br><pre class="text-primary" style="white-space: pre" ng-if="frame.payload_raw|strings">{{ frame.payload_raw | strings }}</pre><hr><div ng-repeat="log in frame.history track by $index"><p style="opacity: {{1-$index/20}}" ng-if="!$last" ng-bind-html="(log|toHex)|markDiff:(frame.history[$index+1]|toHex)|subStr:9"></p></div><p class="text-primary" style="white-space: pre-wrap" ng-if="frame.field">{{ frame.field }}</p><div ng-if="frame.field" ng-include="'views/node_tree.html'" ng-init="node=frame.field"></div></table></div></div>